{"version":3,"sources":["components/common/Preloader/Preloader.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Navbar/Navbar.module.css","components/Dialogs/Dialogs.module.css","reportWebVitals.ts","components/Navbar/Navbar.tsx","components/Music/Music.tsx","components/News/News.tsx","components/Setting/Setting.tsx","redux/dialogsReducer.tsx","utils/validators/validators.ts","components/common/FormsControl/FormControl.tsx","components/Dialogs/DialogItems/DialogItem.tsx","components/Dialogs/Messages/Message.tsx","components/Dialogs/Dialogs.tsx","hoc/withAuthRedirect.tsx","api/api.ts","components/Dialogs/DialogsContainer.tsx","redux/usersReducer.ts","components/Users/Users.tsx","assets/images/profileLogo.png","assets/images/preloader.svg","components/common/Preloader/Preloader.tsx","redux/usersSelectors.ts","components/Users/UsersContainer.tsx","redux/profileReducer.tsx","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/ProfileInfo/ProfileStatus.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","components/Header/Header.tsx","redux/authReducer.ts","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","components/Login/LoginForm/LoginForm.tsx","redux/appReducer.ts","redux/sidebarReducer.tsx","redux/redux-store.tsx","App.tsx","index.tsx","components/Users/Users.module.css","components/common/FormsControl/FormControl.module.css","components/Header/Header.module.css"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","classes","nav","item","to","activeClassName","active","Music","props","News","Setting","initialState","dialogsData","id","name","messagesData","message","requiredField","value","maxLengthCreator","maxLength","length","FormControl","meta","children","validationError","touched","error","style","formControl","Textarea","input","restProps","Input","DialogItem","d","dialog","Message","mes","maxLength100","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","placeholder","validate","mapStateToPropsForRedirect","state","isAuth","auth","ResultCodeENum","ResultCodeForCaptcha","compose","connect","dialogsPage","dispatch","sendMessageCreator","newMessageBody","type","Component","dialogsElements","map","messageElements","m","dialogs","dialogsItems","messageItems","values","instance","axios","create","withCredentials","baseURL","headers","usersAPI","currentPage","pageSize","get","response","data","userId","post","delete","profileAPI","status","put","authAPI","res","email","password","rememberMe","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","toggleIsFetching","toggleIsFollowingProgress","Users","pagesCount","Math","ceil","pages","i","push","container","p","selected","paginat","onClick","onPageChanged","u","userInfo","src","photos","small","alt","userLogo","followed","disabled","followingProgress","some","unFollowThunkCreator","followThunkCreator","Preloader","preloader","getUsers","usersPage","getPageSize","getTotalUserCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersAPiComponent","createSelector","filter","pageNumber","getUsersThunkCreator","this","React","page","a","items","totalCount","resultCode","Success","postData","likeCount","profileData","setStatus","Post","maxLength10","AddNewPostFormRedux","MyPostsContainer","posts","profilePage","addPost","newPostText","postMessage","addPostActionCreator","postElement","mypost","block","newPost","ProfileStatus","useState","editMode","setEditMode","useEffect","onDoubleClick","autoFocus","onBlur","updateStatus","onChange","e","currentTarget","ProfileInfo","profile","content","large","width","marginLeft","Profile","ProfileContainer","match","params","authUserId","history","getUserProfileThunkCreator","getUserStatus","updateUserStatus","console","log","catch","rej","withRouter","Header","hed","header","title","loginBlock","logout","login","setAuthUserData","payload","getAuthUserDataThunkCreator","HeaderContainer","LoginReduxForm","s","formSummaryError","messages","stopSubmit","_error","formData","initialized","rootReducer","combineReducers","action","body","sidebarPage","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","window","App","initializeApp","render","DialogsContainer","path","UsersContainer","AppContainer","promise","Promise","all","SamuraiJSApp","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.fc201683.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__3xMqD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"MyPosts_block__1KfWR\",\"area\":\"MyPosts_area__3QX9_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1drbq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"ProfileInfo_content__1ydn2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2h0ef\",\"item\":\"Navbar_item__22eW8\",\"active\":\"Navbar_active__A2NPC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1aqog\",\"dialogsItems\":\"Dialogs_dialogsItems__2974J\",\"dialog\":\"Dialogs_dialog__SZ_g3\",\"messageItems\":\"Dialogs_messageItems__1TdIq\",\"message\":\"Dialogs_message__kZH15\"};","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { NavLink } from 'react-router-dom';\r\nimport classes from './Navbar.module.css'\r\n\r\n\r\nexport function Navbar() {\r\n    return (\r\n        <nav className={classes.nav}>\r\n            <div className={classes.item} ><NavLink to=\"/profile\" activeClassName={classes.active}> Profile</NavLink></div>\r\n            <div className={classes.item}><NavLink to=\"/dialogs\" activeClassName={classes.active}>Messages</NavLink></div>\r\n            <div className={classes.item}><NavLink to=\"/news\" activeClassName={classes.active}>News</NavLink></div>\r\n            <div className={classes.item}><NavLink to=\"/music\" activeClassName={classes.active}>Music</NavLink></div>\r\n            <br/>\r\n            <div className={classes.item}><NavLink to=\"/users\" activeClassName={classes.active}>Users</NavLink></div>\r\n            <br/>\r\n            <div className={classes.item}><NavLink to=\"/setting\" activeClassName={classes.active}>Setting</NavLink></div>\r\n        </nav>\r\n    )\r\n}","\r\n\r\n\r\nexport function Music(props: any) {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}","\r\n\r\nexport function News(props: any) {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}","\r\n\r\n\r\nexport function Setting(props: any) {\r\n    return (\r\n        <div>\r\n            Setting\r\n        </div>\r\n    )\r\n}","import { ActionTypes } from \"./redux-store\";\r\n\r\nexport type UserType = {\r\n    id: string\r\n    name: string\r\n}\r\nexport type UserMessageType = {\r\n    id: string\r\n    message: string\r\n}\r\nexport type DialogsStateType = {\r\n    dialogsData: Array<UserType>\r\n    messagesData: Array<UserMessageType>\r\n}\r\n\r\nexport type SendMessageType = {\r\n    type: \"SEND-MESSAGE\"\r\n    newMessageBody: string\r\n}\r\n\r\nlet initialState: DialogsStateType = {\r\n    dialogsData: [\r\n        { id: \"1\", name: \"Anna\" },\r\n        { id: \"2\", name: \"Dimych\" },\r\n        { id: \"3\", name: \"Kelvin\" },\r\n        { id: \"4\", name: \"Eliza\" },\r\n        { id: \"5\", name: \"Matt\" },\r\n        { id: \"6\", name: \"Connor\" }\r\n    ],\r\n    messagesData: [\r\n        { id: \"1\", message: \"hi\" },\r\n        { id: \"2\", message: \"How are you?\" },\r\n        { id: \"3\", message: \"It's cool!!\" },\r\n        { id: \"4\", message: \"Nice!\" },\r\n        { id: \"5\", message: \" \" },\r\n        { id: \"6\", message: \"Im sexy\" },\r\n    ],\r\n}\r\n\r\nexport const dialogsReducer = (state: DialogsStateType = initialState, action: ActionTypes): DialogsStateType => {\r\n\r\n    switch (action.type) {\r\n        case \"SEND-MESSAGE\":\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messagesData: [...state.messagesData, { id: \"7\", message: body }] //используем спрэд-оператор вместо push\r\n            }\r\n        default: return state;\r\n    }\r\n}\r\n\r\n//TODO----------------------создаем ACTION-CREATORS----------\r\nexport const sendMessageCreator = (newMessageBody: string): SendMessageType => {\r\n    return {\r\n        type: \"SEND-MESSAGE\",\r\n        newMessageBody\r\n    }\r\n}","export type FieldValidatorType = (value: string) => string | undefined\r\n\r\nexport const requiredField: FieldValidatorType = (value) => {\r\n    if (value) return undefined;\r\n    return \"Field is required\";\r\n}\r\n\r\n//todo для того чтобы мы могли адавать любую длину создаем валидатор криейтор\r\n// export const maxLength30 = (value: any) => {\r\n//     if (value && value.length > 30) return \"Max length is 30 symbols\";\r\n//     return undefined;\r\n// }\r\nexport const maxLengthCreator = (maxLength: number): FieldValidatorType => (value) => {\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\n","import React from 'react';\r\nimport { WrappedFieldMetaProps, WrappedFieldProps } from 'redux-form';\r\nimport style from './FormControl.module.css';\r\n\r\ntype FormControlPropsType = {\r\n    meta: WrappedFieldMetaProps\r\n};\r\n\r\nconst FormControl: React.FC<FormControlPropsType> = ({ meta, children }) => {\r\n    const validationError = meta.touched && meta.error;\r\n    return (\r\n        <div className={style.formControl + \" \" + (validationError ? style.error : \"\")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {validationError && <span>{meta.error}</span>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const Textarea = (props: WrappedFieldProps) => {\r\n    const { input, meta, ...restProps } = props;\r\n    return <FormControl {...props}> <textarea {...input} {...restProps} /></FormControl>\r\n};\r\n\r\nexport const Input = (props: WrappedFieldProps) => {\r\n    const { input, meta, ...restProps } = props;\r\n    return <FormControl {...props}> <input {...input} {...restProps} /></FormControl>\r\n};\r\n\r\n//todo то же что и выше но попроще\r\n// export const Textarea = ({ input, meta, ...props }: any) => {\r\n//     const validationError = meta.touched && meta.error;\r\n//     return (\r\n//         <div className={style.formControl + \" \" + (validationError ? style.error : \"\")}>\r\n//             <div>\r\n//                 <textarea {...input} {...props} />\r\n//             </div>\r\n//             {validationError && <span>{meta.error}</span>}\r\n//         </div>\r\n//     )\r\n// };\r\n\r\n// export const Input = ({ input, meta, ...props }: any) => {\r\n//     const validationError = meta.touched && meta.error;\r\n//     return (\r\n//         <div className={style.formControl + \" \" + (validationError ? style.error : \"\")}>\r\n//             <div>\r\n//                 <input {...input} {...props} />\r\n//             </div>\r\n//             {validationError && <span>{meta.error}</span>}\r\n//         </div>\r\n//     )\r\n// };","import { NavLink } from 'react-router-dom';\r\nimport d from \"./../Dialogs.module.css\"\r\n\r\n\r\n\r\ntype DialogItemType = {\r\n    id: string\r\n    name: string\r\n}\r\n\r\nexport function DialogItem(props: DialogItemType) {\r\n    return (\r\n        <div className={`${d.dialog} ${d.active}`}>\r\n            <NavLink to={`/dialogs/${props.id}`}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}","import d from \"./../Dialogs.module.css\"\r\n\r\n\r\nexport type MessageType = {\r\n    mes: string\r\n}\r\n\r\nexport function Message(props: MessageType) {\r\n    return (\r\n        <div className={d.message}>{props.mes}</div>\r\n    )\r\n}\r\n\r\n","import React, { ChangeEvent } from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport { Field, InjectedFormProps, reduxForm } from 'redux-form';\r\nimport { UserMessageType, UserType } from '../../redux/dialogsReducer';\r\nimport { maxLengthCreator, requiredField } from '../../utils/validators/validators';\r\nimport { Textarea } from '../common/FormsControl/FormControl';\r\nimport { DialogItem } from './DialogItems/DialogItem';\r\nimport d from \"./Dialogs.module.css\"\r\nimport { Message } from './Messages/Message';\r\n\r\nexport type DialogsType = {\r\n    dialogsData: Array<UserType>\r\n    messagesData: Array<UserMessageType>\r\n    newMessageBody: string\r\n    isAuth: boolean\r\n    sendMessageCreator: (newMessageBody: string) => void\r\n}\r\n\r\ntype NewMessageType = {\r\n    newMessageBody: string\r\n}\r\n\r\n\r\nexport function Dialogs(props: DialogsType) {\r\n    const dialogsElements = props.dialogsData.map(d => <DialogItem name={d.name} id={d.id} key={d.id} />);\r\n    const messageElements = props.messagesData.map(m => <Message mes={m.message} key={m.id} />);\r\n\r\n    //todo если мы не залогинены то редирект происходит на страницу логина\r\n    //if (!props.isAuth) return <Redirect to={'/login'} />\r\n\r\n    let addNewMessage = (values: NewMessageType) => {\r\n        props.sendMessageCreator(values.newMessageBody)\r\n    }\r\n    return (\r\n        <div className={d.dialogs}>\r\n            <div className={d.dialogsItems}>\r\n                {dialogsElements}\r\n\r\n            </div>\r\n\r\n            <div className={d.messageItems}>\r\n                <div>{messageElements}</div>\r\n                <AddMessageFormRedux onSubmit={addNewMessage} />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nconst maxLength100 = maxLengthCreator(100);\r\nconst AddMessageForm = (props: InjectedFormProps<NewMessageType>) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field\r\n                    component={Textarea}\r\n                    name=\"newMessageBody\"\r\n                    placeholder=\"Enter your message\"\r\n                    validate={[requiredField, maxLength100]}\r\n                />\r\n            </div>\r\n            <div><button>Send</button></div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm<NewMessageType>({ form: \"dialogAddMessageForm\" })(AddMessageForm)","import React, { ComponentType } from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport { Redirect } from \"react-router\"\r\nimport { ReduxStateType } from \"../redux/redux-store\";\r\n\r\ntype MapStatePropsType = { isAuth: boolean };\r\nlet mapStateToPropsForRedirect = (state: ReduxStateType): MapStatePropsType => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\n\r\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\r\n\r\n    const RedirectComponent = (props: MapStatePropsType) => {\r\n\r\n        let {isAuth, ...restProps} = props;\r\n\r\n        if (!isAuth) return <Redirect to={'/login'} />\r\n        return <Component {...restProps as T} />\r\n\r\n    }\r\n\r\n    let ConnectedRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectedRedirectComponent\r\n}","import axios, { AxiosResponse } from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    headers: { \"API-KEY\": \"a75ca69e-11c9-4fb1-b265-ac7ff31550a1\" }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number = 1, pageSize: number = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`\r\n        ).then((response: AxiosResponse<any>) => response.data)\r\n    },\r\n    getFollow(userId: number | null) {\r\n        return instance.post(`follow/${userId}`, {}\r\n        )\r\n    },\r\n    getUnFollow(userId: number | null) {\r\n        return instance.delete(`follow/${userId}`\r\n        )\r\n    },\r\n\r\n}\r\n\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: number | null) {\r\n        return instance.get(`profile/` + userId);\r\n    },\r\n    getStatus(userId: number | null) {\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put(`profile/status`, { status: status });\r\n    }\r\n}\r\n\r\n//авторизация\r\nexport enum ResultCodeENum {\r\n    Success = 0,\r\n    Error = 1,\r\n}\r\nexport enum ResultCodeForCaptcha {\r\n    CaptchaIsRequired = 10\r\n}\r\n//generyc\r\ntype MeResponseTypes<T> = {\r\n    resultCode: ResultCodeENum | ResultCodeForCaptcha\r\n    messages: Array<string>\r\n    data: T\r\n}\r\ntype DataMeResponseType = {\r\n    id: number,\r\n    email: string\r\n    login: string\r\n}\r\ntype DataLoginResponseType = {\r\n    userId: number\r\n}\r\ntype DataLogoutResponseType = {}\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get<MeResponseTypes<DataMeResponseType>>(`auth/me`).then(res => res.data);\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean = false) {\r\n        return instance.post<MeResponseTypes<DataLoginResponseType>>(`auth/login`, { email, password, rememberMe }).then(res => res.data);\r\n    },\r\n    logout() {\r\n        return instance.delete<MeResponseTypes<DataLogoutResponseType>>(`auth/login`).then(res => res.data);;\r\n    }\r\n}\r\n\r\n","import { sendMessageCreator, UserMessageType, UserType } from '../../redux/dialogsReducer';\r\nimport { DispatchType, ReduxStateType } from '../../redux/redux-store';\r\nimport { Dialogs } from './Dialogs';\r\nimport { connect } from 'react-redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\ntype MapStateToPropsType = {\r\n    dialogsData: Array<UserType>\r\n    messagesData: Array<UserMessageType>\r\n}\r\ntype MapDispatchToPropsType = {\r\n    sendMessageCreator: (newMessageBody: string) => void\r\n}\r\n\r\nlet mapStateToProps = (state: ReduxStateType): MapStateToPropsType => {\r\n    return {\r\n        dialogsData: state.dialogsPage.dialogsData,\r\n        messagesData: state.dialogsPage.messagesData,\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch: DispatchType): MapDispatchToPropsType => {\r\n    return {\r\n        sendMessageCreator: (newMessageBody: string) => { dispatch(sendMessageCreator(newMessageBody)) },\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs)","import { ThunkAction } from \"redux-thunk\";\r\nimport { ResultCodeENum, usersAPI } from \"../api/api\";\r\nimport { ActionTypes, DispatchType, ReduxStateType, ThunkType } from \"./redux-store\";\r\n\r\nexport type LocationType = {\r\n  city: string;\r\n  country: string;\r\n};\r\nexport type PhotosType = {\r\n  small: string | null\r\n  large: string | null\r\n}\r\nexport type UserOfSearchType = {\r\n  id: number;\r\n  photos: PhotosType\r\n  followed: boolean;\r\n  name: string;\r\n  status: string;\r\n};\r\nexport type UsersOfSearchType = Array<UserOfSearchType>;\r\nexport type UsersStateType = {\r\n  users: UsersOfSearchType\r\n  pageSize: number\r\n  totalUsersCount: number\r\n  currentPage: number\r\n  isFetching: boolean\r\n  followingInProgress: Array<number | null>\r\n};\r\nexport type FollowType = {\r\n  type: \"FOLLOW\";\r\n  userId: number;\r\n};\r\nexport type UnFollowType = {\r\n  type: \"UNFOLLOW\";\r\n  userId: number;\r\n};\r\nexport type SetUsersType = {\r\n  type: \"SET-USERS\";\r\n  users: UsersOfSearchType;\r\n};\r\nexport type CurrentPageType = {\r\n  type: \"SET-CURRENT-PAGE\"\r\n  currentPage: number\r\n}\r\nexport type TotalCountType = {\r\n  type: \"SET-TOTAL-COUNT\",\r\n  totalUsersCount: number\r\n}\r\nexport type ToggleIsFetchingType = {\r\n  type: \"TOGGLE-IS-FETCHING\",\r\n  isFetching: boolean\r\n};\r\nexport type ToggleIsFollowingProgressType = {\r\n  type: \"TOGGLE-IS-FOLLOWING-PROGRESS\",\r\n  isFetching: boolean\r\n  userId: number\r\n};\r\nlet initialState: UsersStateType = {\r\n  users: [],\r\n  pageSize: 25,\r\n  totalUsersCount: 5,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: []\r\n};\r\n\r\nexport const usersReducer = (\r\n  state: UsersStateType = initialState,\r\n  action: ActionTypes\r\n): UsersStateType => {\r\n  switch (action.type) {\r\n    case \"FOLLOW\":\r\n      return {\r\n        ...state,\r\n        users: state.users.map((u) => {\r\n          //map  то же самое что и users: [...state.users]\r\n          if (u.id === action.userId) {\r\n            return { ...u, followed: true };\r\n          }\r\n          return u;\r\n        }),\r\n      };\r\n\r\n    case \"UNFOLLOW\":\r\n      return {\r\n        ...state,\r\n        users: state.users.map((u) => {\r\n          //map  то же самое что и users: [...state.users]\r\n          if (u.id === action.userId) {\r\n            return { ...u, followed: false };\r\n          }\r\n          return u;\r\n        }),\r\n      };\r\n\r\n    case \"SET-USERS\": {\r\n      return { ...state, users: action.users };\r\n    };\r\n    case \"SET-CURRENT-PAGE\": {\r\n      return { ...state, currentPage: action.currentPage };\r\n    }\r\n    case \"SET-TOTAL-COUNT\": {\r\n      return { ...state, totalUsersCount: action.totalUsersCount };\r\n    }\r\n    case \"TOGGLE-IS-FETCHING\": {\r\n      return { ...state, isFetching: action.isFetching }\r\n    }\r\n    case \"TOGGLE-IS-FOLLOWING-PROGRESS\": {\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter(id => id !== action.userId)\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n//TODO----------------------создаем ACTION-CREATORS----------\r\n//! переписать под payload {}\r\n//follow friends\r\nexport const followSuccess = (userId: number): FollowType => {\r\n  return {\r\n    type: \"FOLLOW\",\r\n    userId: userId,\r\n  };\r\n};\r\n//unfollow friends\r\nexport const unfollowSuccess = (userId: number): UnFollowType => {\r\n  return {\r\n    type: \"UNFOLLOW\",\r\n    userId: userId,\r\n  };\r\n};\r\n//засунуть пользователей которых мы найдем в стейт\r\nexport const setUsers = (users: UsersOfSearchType): SetUsersType => {\r\n  return {\r\n    type: \"SET-USERS\",\r\n    users: users,\r\n  };\r\n};\r\n//установить текущую страницу\r\nexport const setCurrentPage = (currentPage: number): CurrentPageType => {\r\n  return {\r\n    type: \"SET-CURRENT-PAGE\",\r\n    currentPage: currentPage\r\n  };\r\n};\r\n//установить общее кол-во пользователей с сервера\r\nexport const setTotalCount = (totalUsersCount: number): TotalCountType => {\r\n  return {\r\n    type: \"SET-TOTAL-COUNT\",\r\n    totalUsersCount: totalUsersCount\r\n  };\r\n};\r\n//создаем прелоадер\r\nexport const toggleIsFetching = (isFetching: boolean): ToggleIsFetchingType => {\r\n  return {\r\n    type: \"TOGGLE-IS-FETCHING\",\r\n    isFetching: isFetching\r\n  };\r\n};\r\n//отключаем кнопку фоловинга при нажатии\r\nexport const toggleIsFollowingProgress = (isFetching: boolean, userId: number): ToggleIsFollowingProgressType => {\r\n  return {\r\n    type: \"TOGGLE-IS-FOLLOWING-PROGRESS\",\r\n    isFetching,\r\n    userId\r\n  };\r\n};\r\n\r\n//todo Создаем ThunkCreator\r\n\r\nexport const getUsersThunkCreator = (page: number, pageSize: number): ThunkType => {\r\n  //через замыкание\r\n  return async (dispatch: DispatchType) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(page));\r\n\r\n    usersAPI.getUsers(page, pageSize).then(data => {\r\n      dispatch(toggleIsFetching(false));\r\n      dispatch(setUsers(data.items));\r\n      dispatch(setTotalCount(data.totalCount));\r\n    });\r\n  }\r\n}\r\n\r\nexport const followThunkCreator = (userId: number): ThunkType => {\r\n\r\n  return async (dispatch: DispatchType) => {\r\n    dispatch(toggleIsFollowingProgress(true, userId));\r\n\r\n    usersAPI.getFollow(userId)\r\n      .then(response => {\r\n        if (response.data.resultCode === ResultCodeENum.Success) {\r\n          dispatch(followSuccess(userId));\r\n        }\r\n        dispatch(toggleIsFollowingProgress(false, userId));\r\n      });\r\n  }\r\n}\r\n\r\nexport const unFollowThunkCreator = (userId: number): ThunkType => {\r\n\r\n  return async (dispatch: DispatchType) => {\r\n    dispatch(toggleIsFollowingProgress(true, userId));\r\n\r\n    usersAPI.getUnFollow(userId)\r\n      .then(response => {\r\n        if (response.data.resultCode === ResultCodeENum.Success) {\r\n          dispatch(unfollowSuccess(userId));\r\n        }\r\n        dispatch(toggleIsFollowingProgress(false, userId));\r\n      });\r\n  }\r\n}","import { UsersOfSearchType } from '../../redux/usersReducer';\r\nimport profileLogo from '../../assets/images/profileLogo.png'\r\nimport style from './Users.module.css'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\ntype UsersType = {\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    users: UsersOfSearchType\r\n    followingProgress: Array<number | null>\r\n    onPageChanged: (pageNumber: number) => void\r\n    followThunkCreator: (userId: number) => void\r\n    unFollowThunkCreator: (userId: number) => void\r\n\r\n}\r\nexport function Users(props: UsersType) {\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    return <div className={style.container}>\r\n        <div>\r\n            {pages.map(p => {\r\n                return <span\r\n                    className={props.currentPage === p ? style.selected : style.paginat}\r\n                    onClick={() => props.onPageChanged(p)}\r\n                >{p}</span>\r\n            })}\r\n\r\n        </div>\r\n        {\r\n            props.users.map(u =>\r\n                <div key={u.id} className={style.userInfo}>\r\n                    <span>\r\n                        <div>\r\n                            <NavLink to={`/profile/${u.id}`}>\r\n                                <img src={u.photos.small != null ? u.photos.small : profileLogo} alt=\"avatar\" className={style.userLogo} />\r\n                            </NavLink>\r\n                        </div>\r\n                        <div>\r\n                            {u.followed\r\n                                ? <button\r\n                                    disabled={props.followingProgress.some(id => id === u.id)}\r\n                                    onClick={() => {\r\n                                        props.unFollowThunkCreator(u.id)\r\n\r\n                                    }}>UNFOLLOW</button>\r\n                                : <button\r\n                                    disabled={props.followingProgress.some(id => id === u.id)}\r\n                                    onClick={() => {\r\n                                        props.followThunkCreator(u.id)\r\n                                    }}>FOLLOW</button>\r\n                            }\r\n                        </div>\r\n                    </span>\r\n                    <span>\r\n                        <span>\r\n                            <div>{u.name}</div>\r\n                            <div>{u.status}</div>\r\n                        </span>\r\n                        <span>\r\n                            <div>{'u.location.city'}</div>\r\n                            <div>{'u.location.country'}</div>\r\n                        </span>\r\n                    </span>\r\n                </div>)\r\n        }\r\n    </div>\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/preloader.448c49bf.svg\";","import React from 'react';\r\nimport style from './Preloader.module.css'\r\nimport preloader from '../../../assets/images/preloader.svg'\r\n\r\nexport function Preloader() {\r\n    return (\r\n        <div className={style.preloader}>\r\n            <img src={preloader} />\r\n        </div>\r\n    )\r\n}","import { createSelector } from \"reselect\";\r\nimport { ReduxStateType } from \"./redux-store\"\r\n\r\nexport const getUsers = (state: ReduxStateType) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getPageSize = (state: ReduxStateType) => {\r\n    return state.usersPage.pageSize;\r\n}\r\nexport const getTotalUserCount = (state: ReduxStateType) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\nexport const getCurrentPage = (state: ReduxStateType) => {\r\n    return state.usersPage.currentPage;\r\n}\r\nexport const getIsFetching = (state: ReduxStateType) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state: ReduxStateType) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n\r\n//@ts-ignore\r\n//todo используем reselect-----------------\r\nexport const getUsersSelector = (state: ReduxStateType) => {\r\n    return getUsers(state).filter(u => true)\r\n}\r\n//@ts-ignore\r\nexport const getUsersSuperSelector = createSelector( //библиотека reselect\r\n    getUsers, // зависимость\r\n    getTotalUserCount,// зависимость\r\n    (users) => { return users.filter(u => true) //функция\r\n    })\r\n//todo -------------------------------------^^^","import { connect } from 'react-redux';\r\nimport { ReduxStateType } from '../../redux/redux-store';\r\nimport {\r\n    setCurrentPage, UsersOfSearchType, toggleIsFollowingProgress, getUsersThunkCreator, followThunkCreator,\r\n    unFollowThunkCreator\r\n} from '../../redux/usersReducer';\r\nimport React from 'react';\r\nimport { Users } from './Users';\r\nimport { Preloader } from '../common/Preloader/Preloader';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport { getCurrentPage, getFollowingInProgress, getIsFetching, getPageSize, getTotalUserCount, getUsers } from '../../redux/usersSelectors';\r\n\r\n\r\ntype MapStateToPropsType = {\r\n    users: UsersOfSearchType\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingProgress: Array<number | null>\r\n}\r\n\r\ntype UsersAPIType = {\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    users: UsersOfSearchType\r\n    isFetching: boolean\r\n    followingProgress: Array<number | null>\r\n    getUsersThunkCreator: (currentPage: number, pageSize: number) => void\r\n    followThunkCreator: (userId: number) => void\r\n    unFollowThunkCreator: (userId: number) => void\r\n\r\n}\r\nexport class UsersAPiComponent extends React.Component<UsersAPIType>{\r\n\r\n    componentDidMount() {\r\n\r\n        this.props.getUsersThunkCreator(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        this.props.getUsersThunkCreator(pageNumber, this.props.pageSize);\r\n    };\r\n\r\n    render() {\r\n\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanged={this.onPageChanged}\r\n                users={this.props.users}\r\n                followingProgress={this.props.followingProgress}\r\n                followThunkCreator={this.props.followThunkCreator}\r\n                unFollowThunkCreator={this.props.unFollowThunkCreator}\r\n\r\n            />\r\n        </>\r\n    }\r\n}\r\n//todo старый mapStateToProps\r\n// let mapStateToProps = (state: ReduxStateType): MapStateToPropsType => {\r\n//     return {\r\n//         users: state.usersPage.users,\r\n//         pageSize: state.usersPage.pageSize,\r\n//         totalUsersCount: state.usersPage.totalUsersCount,\r\n//         currentPage: state.usersPage.currentPage,\r\n//         isFetching: state.usersPage.isFetching,\r\n//         followingProgress: state.usersPage.followingInProgress\r\n//     }\r\n// };\r\n\r\n//todo используем селекторы\r\nlet mapStateToProps = (state: ReduxStateType): MapStateToPropsType => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUserCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingProgress: getFollowingInProgress(state)\r\n    }\r\n};\r\n\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {\r\n        getUsersThunkCreator,\r\n        followThunkCreator,\r\n        unFollowThunkCreator,\r\n    })\r\n)(UsersAPiComponent)\r\n","import { profileAPI, ResultCodeENum, usersAPI } from \"../api/api\";\r\nimport { ActionTypes, DispatchType, ThunkType } from \"./redux-store\";\r\ntype ContactsType = {\r\n    \"facebook\": string | null\r\n    \"website\": string | null\r\n    \"vk\": string | null\r\n    \"twitter\": string | null\r\n    \"instagram\": string | null\r\n    \"youtube\": string | null\r\n    \"github\": string | null\r\n    \"mainLink\": string | null\r\n}\r\ntype PhotosType = {\r\n    \"small\": string\r\n    \"large\": string\r\n}\r\nexport type ProfileDataType = {\r\n    \"aboutMe\": string | null\r\n    \"contacts\": ContactsType\r\n    \"lookingForAJob\": boolean\r\n    \"lookingForAJobDescription\": string | null\r\n    \"fullName\": string\r\n    \"userId\": number\r\n    \"photos\": PhotosType\r\n} | null\r\nexport type PostDataType = {\r\n    id: string\r\n    message: string\r\n    src: string\r\n    likeCount: string\r\n}\r\nexport type ProfileStateType = {\r\n    postData: Array<PostDataType>\r\n    profileData: ProfileDataType\r\n    status: string\r\n}\r\nexport type AddPostActionType = {\r\n    type: \"ADD-POST\"\r\n    postMessage: string\r\n}\r\nexport type SetUserProfileType = {\r\n    type: \"SET-USER-PROFILE\",\r\n    profile: ProfileDataType\r\n}\r\nexport type SetStatusType = {\r\n    type: \"SET-STATUS\"\r\n    status: string\r\n}\r\n\r\nlet initialState: ProfileStateType = {\r\n    postData: [\r\n        { id: \"1\", message: \"My first post\", src: \"https://www.b17.ru/foto/uploaded/b69a564c47110acefb8c986f768210ac.jpg\", likeCount: \"23\" },\r\n        { id: \"2\", message: \"Hey friends!!!\", src: \"https://klike.net/uploads/posts/2019-03/1551511784_4.jpg\", likeCount: \"12\" },\r\n        { id: \"4\", message: \"very very good job\", src: \"https://pictureholiday.ru/wp-content/uploads/2018/05/lrdh7n2l4l0.jpg\", likeCount: \"32\" },\r\n        { id: \"5\", message: \"My second post\", src: \"https://www.meme-arsenal.com/memes/be50e6ba99654b5455027dcc82beb5b3.jpg\", likeCount: \"4\" },\r\n    ],\r\n    profileData: null,\r\n    status: \"\",\r\n}\r\n\r\nexport const profileReducer = (state: ProfileStateType = initialState, action: ActionTypes): ProfileStateType => {\r\n    switch (action.type) {\r\n        case \"ADD-POST\":\r\n            let newPost: PostDataType = {\r\n                id: \"5\",\r\n                message: action.postMessage,\r\n                src: \"https://lh3.googleusercontent.com/proxy/3rJu_amx5VvIAQOWhgcizmF3sYMiZ1CeLWGXAmDmlITG_ZUxNXKHCBkBQWo0rTkebuBkxOs5bgKaU4m_SWFiaDRobK1AzfC4LHulca3hMn3YvJxPGKEeNEEzmpsPn2eY3Nw65qUUIn4E1TYLp4o8ABQsDB13jFsjyYB_S_K937soqhA_7_UUmvwOUYkJe8MiFNt4BPHHHMQ9PKnCrM8lInd98DtLPWGpnYCGDZLkAvogYT9xFeS72g22w50XtttvfpsvdsxG\",\r\n                likeCount: \"0\"\r\n            };\r\n            return {\r\n                ...state,\r\n                postData: [...state.postData, newPost], //используем спрэд-оператор вместо push\r\n            }\r\n        case \"SET-USER-PROFILE\":\r\n            return {\r\n                ...state,\r\n                profileData: action.profile\r\n            }\r\n        case \"SET-STATUS\":\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        default: return state;\r\n    }\r\n}\r\n\r\n//TODO----------------------создаем ACTION-CREATORS----------\r\nexport const addPostActionCreator = (newPostText: string): AddPostActionType => {\r\n    return {\r\n        type: \"ADD-POST\",\r\n        postMessage: newPostText\r\n    }\r\n}\r\n\r\nexport const setUserProfile = (profile: ProfileDataType): SetUserProfileType => {\r\n    return {\r\n        type: \"SET-USER-PROFILE\",\r\n        profile,\r\n    }\r\n}\r\n\r\nexport const setStatus = (status: string): SetStatusType => {\r\n    return {\r\n        type: \"SET-STATUS\",\r\n        status,\r\n    }\r\n}\r\n\r\n\r\n//TODO----------------------создаем Thunk-CREATORS----------\r\n\r\nexport const getUserProfileThunkCreator = (userId: number | null): ThunkType =>\r\n     (dispatch: DispatchType) => {\r\n         profileAPI.getProfile(userId)\r\n            .then(response => {\r\n                dispatch(setUserProfile(response.data));\r\n            });\r\n    }\r\n\r\nexport const getUserStatus = (userId: number | null): ThunkType =>\r\n    (dispatch: DispatchType) => {\r\n        profileAPI.getStatus(userId)\r\n            .then(response => {\r\n                dispatch(setStatus(response.data));\r\n            });\r\n    }\r\n\r\nexport const updateUserStatus = (status: string): ThunkType =>\r\n    (dispatch: DispatchType) => {\r\n        profileAPI.updateStatus(status)\r\n            .then(response => {\r\n                console.log(response)\r\n                if (response.data.resultCode === ResultCodeENum.Success) {\r\n                    dispatch(setStatus(status));\r\n                }\r\n            })\r\n            //!test\r\n            .catch(rej=>console.log('ERROR'));\r\n    }\r\n","import post from './Post.module.css'\r\n\r\n\r\nexport type PostType1 = {\r\n    message: string\r\n    src: string\r\n    likeCount: string\r\n    \r\n}\r\n\r\nexport function Post(props: PostType1) {\r\n    return (\r\n\r\n        <div className={post.item}>\r\n            <img src={props.src} alt=\"\" />\r\n            {props.message}\r\n            <button>Like({props.likeCount})</button>\r\n            <button>DisLike</button>\r\n        </div>\r\n\r\n\r\n    )\r\n}","import React from 'react';\r\nimport { Field, InjectedFormProps, reduxForm } from 'redux-form';\r\nimport { PostDataType } from '../../../redux/profileReducer';\r\nimport mypost from './MyPosts.module.css'\r\nimport { Post } from './Post/Post';\r\nimport { maxLengthCreator, requiredField } from '../../../utils/validators/validators'\r\nimport { Textarea } from '../../common/FormsControl/FormControl';\r\n\r\ntype MyPostType = {\r\n    posts: Array<PostDataType>\r\n    addPost: (text: string) => void\r\n\r\n}\r\n\r\ntype NewPostType = {\r\n    newPost: string\r\n}\r\n\r\n\r\nexport function MyPosts(props: MyPostType) {\r\n\r\n    const postElement = props.posts.map(p => <Post message={p.message} src={p.src} likeCount={p.likeCount} key={p.id} />)\r\n\r\n    //const newPostElement = React.createRef<HTMLTextAreaElement>();\r\n    const addPost = (values: NewPostType) => {\r\n        props.addPost(values.newPost)\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={mypost.block}>\r\n            <h3>My posts</h3>\r\n            <AddNewPostFormRedux onSubmit={addPost} />\r\n            {postElement}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nconst AddNewPostForm = (props: InjectedFormProps<NewPostType>) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Textarea} name=\"newPost\" placeholder=\"Enter your post\" validate={[requiredField, maxLength10]} />\r\n            </div>\r\n            <div>\r\n                <button>Add Post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddNewPostFormRedux = reduxForm<NewPostType>({ form: \"addNewPost\" })(AddNewPostForm)\r\n","import { connect } from 'react-redux';\r\nimport { addPostActionCreator, PostDataType } from '../../../redux/profileReducer';\r\nimport { DispatchType, ReduxStateType } from '../../../redux/redux-store';\r\nimport { MyPosts } from './MyPosts';\r\n\r\ntype MapStateToPropsType = {\r\n    posts: Array<PostDataType>\r\n}\r\ntype MapDispatchToPropsType = {\r\n    addPost: (text: string) => void\r\n}\r\nlet mapStateToProps = (state: ReduxStateType): MapStateToPropsType => {\r\n    return {\r\n        posts: state.profilePage.postData,\r\n    }\r\n};\r\nlet mapDispatchToProps = (dispatch: DispatchType): MapDispatchToPropsType => {\r\n    return {\r\n        addPost: (newPostText: string) => { dispatch(addPostActionCreator(newPostText)) },\r\n    };\r\n}\r\nexport const MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);","import axios from 'axios';\r\nimport React, { ChangeEvent, useEffect, useState } from 'react';\r\nimport { profileAPI } from '../../../api/api';\r\n\r\ntype ProfileStatusType = {\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\nexport const ProfileStatus = (props: ProfileStatusType) => {\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n\r\n    }, [props.status]);\r\n\r\n    const activateMode = () => { setEditMode(true) }\r\n\r\n    const deactivateMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status)\r\n\r\n    }\r\n\r\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n                <div>\r\n                    <span onDoubleClick={activateMode}>{props.status || \"-------\"}</span>\r\n                </div>\r\n            }\r\n            {editMode &&\r\n                <div>\r\n                    <input autoFocus={true} onBlur={deactivateMode} onChange={onStatusChange} value={status} />\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n// import React, { ChangeEvent } from 'react';\r\n\r\n// type ProfileStatusType = {\r\n//     status: string\r\n//     updateStatus: (status: string) => void\r\n// }\r\n\r\n// type StateType = {\r\n//     editMode: boolean\r\n//     status: string\r\n// }\r\n// class ProfileStatus extends React.Component<ProfileStatusType> {\r\n//     state: StateType = {\r\n//         editMode: false,\r\n//         status: this.props.status\r\n//     }\r\n\r\n//     activateEditMode = () => {\r\n//         this.setState({\r\n//             editMode: true\r\n//         });\r\n//     }\r\n//     deactivateEditMode() {\r\n//         this.setState({\r\n//             editMode: false\r\n//         });\r\n//         this.props.updateStatus(this.state.status);\r\n//     }\r\n\r\n//     onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n//         this.setState({\r\n//             status: e.currentTarget.value\r\n//         });\r\n//     }\r\n\r\n//     componentDidUpdate(prevProps: ProfileStatusType, prevState: StateType) {\r\n//         if (prevProps.status !== this.props.status) {\r\n//             this.setState({\r\n//                 status: this.props.status\r\n//             });\r\n//         }\r\n//     }\r\n\r\n//     render() {\r\n//         return (\r\n//             <div>\r\n//                 {!this.state.editMode &&\r\n//                     <div>\r\n//                         <span onDoubleClick={this.activateEditMode}>{this.props.status || \"-------\"}</span>\r\n//                     </div>\r\n//                 }\r\n//                 {this.state.editMode &&\r\n//                     <div>\r\n//                         <input onChange={this.onStatusChange} autoFocus={true} onBlur={this.deactivateEditMode.bind(this)} value={this.state.status} />\r\n//                     </div>\r\n//                 }\r\n//             </div>\r\n//         )\r\n//     }\r\n// }\r\n\r\n// export default ProfileStatus;","import { ProfileDataType } from '../../../redux/profileReducer';\r\nimport { Preloader } from '../../common/Preloader/Preloader';\r\nimport p from './ProfileInfo.module.css'\r\nimport { ProfileStatus } from './ProfileStatus';\r\n//import { ProfileStatus } from './ProfileStatus';\r\n\r\ntype PropsType = {\r\n  profile: ProfileDataType\r\n  status: string\r\n  updateStatus: (userId: string) => void\r\n}\r\n\r\n\r\nexport function ProfileInfo(props: PropsType) {\r\n  if (!props.profile) { return <Preloader /> }\r\n  // console.log(props)\r\n  return (\r\n    <div className={p.content}>\r\n      <img src=\"https://demo.qodeinteractive.com/central/wp-content/uploads/2013/05/header.jpg\" alt=\"Background\" />\r\n      <ProfileStatus status={props.status} updateStatus={props.updateStatus} />\r\n      <div>AVA </div>\r\n      <img src={props.profile.photos.large ? props.profile.photos.large : \"https://okeygeek.ru/wp-content/uploads/2020/03/no_avatar.png\"} alt=\"ava\" style={{ width: \"300px\", marginLeft: \"20px\" }} />\r\n    </div>\r\n  )\r\n}","import { ProfileDataType } from '../../redux/profileReducer';\r\nimport { MyPostsContainer } from './MyPosts/MyPostsContainer';\r\nimport { ProfileInfo } from './ProfileInfo/ProfileInfo';\r\n\r\nexport type ProfileType = {\r\n  profile: ProfileDataType\r\n  status: string\r\n  getUserProfileThunkCreator: (userId: number | null) => void\r\n  updateStatus: (status: string) => void\r\n}\r\n\r\nexport function Profile(props: ProfileType) {\r\n\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus} />\r\n      <MyPostsContainer />\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { Profile } from './Profile';\r\nimport { RouteComponentProps, withRouter } from 'react-router';\r\nimport { ReduxStateType } from '../../redux/redux-store';\r\nimport { getUserProfileThunkCreator, ProfileDataType, getUserStatus, updateUserStatus } from '../../redux/profileReducer'\r\nimport { compose } from 'redux';\r\n\r\ntype MapStatePropsType = {\r\n    profile: ProfileDataType\r\n    status: string\r\n    authUserId: number | null\r\n    isAuth: boolean\r\n}\r\ntype MapDispatchPropsType = {\r\n    getUserProfileThunkCreator: (userId: number | null) => void\r\n    getUserStatus: (userId: number | null) => void\r\n    updateUserStatus: (status: string) => void\r\n}\r\ntype PathParamsType = {\r\n    userId: string\r\n}\r\ntype CommonPropsType = RouteComponentProps<PathParamsType> & ProfileContainerType\r\ntype ProfileContainerType = MapStatePropsType & MapDispatchPropsType\r\n\r\nclass ProfileContainer extends React.Component<CommonPropsType>{\r\n\r\n    componentDidMount() {\r\n        let userId: number | null = +this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authUserId;\r\n            if (!userId) {\r\n                // todo: may be replace push with Redirect??\r\n                this.props.history.push(\"/login\");\r\n            }\r\n        }\r\n        //! ошибка с отображением пользователей\r\n        // console.log(this.props.authUserId)\r\n        // let userId: number | null = Number(this.props.match.params.userId.slice(3));\r\n        // console.log(this.props)\r\n        // console.log(userId)\r\n        // if (!userId) {\r\n        //     userId = Number(this.props.authUserId);\r\n        //     if (!userId) {\r\n        //         this.props.history.push(\"/login\");\r\n        //     }\r\n        // }\r\n        this.props.getUserProfileThunkCreator(userId);\r\n        this.props.getUserStatus(userId);\r\n    }\r\n    render() {\r\n        return (\r\n            <Profile {...this.props} profile={this.props.profile} status={this.props.status} updateStatus={this.props.updateUserStatus} />\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: ReduxStateType): MapStatePropsType => ({\r\n    profile: state.profilePage.profileData,\r\n    status: state.profilePage.status,\r\n    authUserId: state.auth.id,\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, { getUserProfileThunkCreator, getUserStatus, updateUserStatus }),\r\n    withRouter,\r\n)(ProfileContainer)","import { NavLink } from 'react-router-dom';\r\nimport hed from './Header.module.css';\r\nimport { HeaderPropsType } from './HeaderContainer';\r\n\r\nexport function Header(props: HeaderPropsType) {\r\n    return (\r\n        <header className={hed.header}>\r\n            <img src=\"https://i.ibb.co/yV486Q1/logo.png\" alt=\"Logo\" />\r\n            <span className={hed.title}>Free Land</span>\r\n\r\n            <div className={hed.loginBlock}>\r\n                {props.isAuth\r\n                    ? <div>{props.email} - <button onClick={props.logout}>LogOut</button></div> :\r\n                    <NavLink to='/login'>Login</NavLink>}\r\n            </div>\r\n        </header>)\r\n}\r\n\r\n\r\n","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI, ResultCodeENum } from \"../api/api\";\r\nimport { ActionTypes, DispatchType, ThunkType } from \"./redux-store\";\r\n\r\ntype PayloadType = {\r\n    id: null | number\r\n    login: null | string\r\n    email: null | string\r\n    isAuth: boolean\r\n}\r\nlet initialState = {\r\n    id: null as (number | null),\r\n    login: null as string | null,\r\n    email: null as string | null,\r\n    isAuth: false\r\n}\r\nexport type InitialAuthType = typeof initialState;\r\n\r\nexport type setAuthUserDataType = {\r\n    type: \"SET-USER-DATA\",\r\n    payload: PayloadType\r\n}\r\n\r\nexport const authReducer = (state: InitialAuthType = initialState, action: ActionTypes): InitialAuthType => {\r\n    switch (action.type) {\r\n        case \"SET-USER-DATA\":\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (id: null | number, login: null | string, email: null | string, isAuth: boolean): setAuthUserDataType => ({\r\n    type: \"SET-USER-DATA\",\r\n    payload: { id, login, email, isAuth }\r\n})\r\n\r\nexport const getAuthUserDataThunkCreator = (): ThunkType => (dispatch: DispatchType) => {\r\n   return  authAPI.me().then(data => {\r\n        if (data.resultCode === ResultCodeENum.Success) {\r\n            let { id, login, email } = data.data;\r\n            dispatch(setAuthUserData(id, login, email, true));\r\n        }\r\n    });\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean): ThunkType => (dispatch: DispatchType) => {\r\n\r\n    authAPI.login(email, password, rememberMe).then(data => {\r\n        if (data.resultCode === ResultCodeENum.Success) {\r\n            //@ts-ignore    //!<<<<<<<<<<---------------------------\r\n            dispatch(getAuthUserDataThunkCreator())\r\n        } else {\r\n            let message = data.messages.length > 0 ? data.messages[0] : \"Entered data is wrong.\"\r\n            //@ts-ignore    //!<<<<<<<<<<---------------------------\r\n            dispatch(stopSubmit(\"login\", { _error: message }));\r\n        }\r\n    });\r\n}\r\n\r\nexport const logout = (): ThunkType => (dispatch: DispatchType) => {\r\n    authAPI.logout().then(data => {\r\n        if (data.resultCode === ResultCodeENum.Success) {\r\n            dispatch(setAuthUserData(null, null, null, false));\r\n        }\r\n    });\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Header } from './Header';\r\nimport { logout } from '../../redux/authReducer'\r\nimport { ReduxStateType } from '../../redux/redux-store';\r\n\r\nexport type HeaderPropsType = {\r\n    isAuth: boolean\r\n    email: string | null\r\n    logout: () => void\r\n}\r\nclass HeaderContainer extends React.Component<HeaderPropsType>  {\r\n\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\nconst mapStateToProps = (state: ReduxStateType) => ({\r\n    isAuth: state.auth.isAuth,\r\n    email: state.auth.email,\r\n});\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer)\r\n","import { connect } from \"react-redux\"\r\nimport { Redirect } from \"react-router\"\r\nimport { reduxForm } from \"redux-form\"\r\nimport { login } from \"../../redux/authReducer\"\r\nimport { ReduxStateType } from \"../../redux/redux-store\"\r\nimport { FormDataType, LoginForm } from \"./LoginForm/LoginForm\"\r\n\r\ntype LoginPropsType = {\r\n    isAuth: boolean\r\n    login: (email: string, password: string, rememberMe: boolean) => void\r\n}\r\ntype MapStateToPropsType = {\r\n    isAuth: boolean\r\n}\r\nconst Login = (props: LoginPropsType) => {\r\n\r\n    const onSubmit = (formData: FormDataType) => {\r\n        // console.log(formData)\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm<FormDataType>({\r\n    //a unique name\r\n    form: 'login'\r\n})(LoginForm)\r\nconst mapStateToProps = (state: ReduxStateType): MapStateToPropsType => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, { login })(Login)\r\n","import { Field, InjectedFormProps } from \"redux-form\"\r\nimport { requiredField } from \"../../../utils/validators/validators\"\r\nimport { Input } from \"../../common/FormsControl/FormControl\"\r\nimport s from \"./../../common/FormsControl/FormControl.module.css\"\r\n\r\nexport type FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\n\r\nexport const LoginForm = (props: InjectedFormProps<FormDataType>) => {\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field\r\n                    component={Input}\r\n                    placeholder=\"Email\"\r\n                    type=\"text\"\r\n                    name=\"email\"\r\n                    validate={[requiredField]}\r\n                />\r\n            </div>\r\n            <div>\r\n                <Field component={Input}\r\n                    placeholder=\"password\"\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    validate={[requiredField]}\r\n                />\r\n            </div>\r\n            <div>\r\n                <Field\r\n                    component={Input}\r\n                    type=\"checkbox\"\r\n                    name=\"rememberMe\"\r\n                /> remember me\r\n                </div>\r\n               {props.error && <div className={s.formSummaryError}>\r\n                   {props.error}\r\n                </div>}\r\n            <div>\r\n                <button>Log In</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\n","import { getAuthUserDataThunkCreator } from \"./authReducer\";\r\nimport { ActionTypes, DispatchType, ThunkType } from \"./redux-store\";\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\nexport type InitialAuthType = typeof initialState;\r\n\r\nexport type InitializedSuccessType = {\r\n    type: \"SET-INITIALIZED\",\r\n}\r\n\r\n\r\nexport const appReducer = (state: InitialAuthType = initialState, action: ActionTypes): InitialAuthType => {\r\n    switch (action.type) {\r\n        case \"SET-INITIALIZED\":\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = (): InitializedSuccessType => ({\r\n    type: \"SET-INITIALIZED\"\r\n})\r\n\r\nexport const initializeApp = (): ThunkType => (dispatch: DispatchType) => {\r\n    //@ts-ignore  //!<<<<=================================================== \r\n    let promise = dispatch(getAuthUserDataThunkCreator());\r\n\r\n    Promise.all([promise]).then(() => {\r\n        dispatch(initializedSuccess());\r\n    })\r\n\r\n}\r\n","import { ActionTypes } from \"./redux-store\";\r\n\r\nlet initialState:any = {};\r\n\r\nexport const sidebarReducer = (state:any=initialState, action:ActionTypes) => {\r\n\r\n    return state;\r\n}","import { applyMiddleware, combineReducers, createStore, Store } from \"redux\";\r\nimport { dialogsReducer, SendMessageType } from \"./dialogsReducer\";\r\nimport { AddPostActionType, profileReducer, SetStatusType, SetUserProfileType } from \"./profileReducer\";\r\nimport { sidebarReducer } from \"./sidebarReducer\";\r\nimport { CurrentPageType, FollowType, SetUsersType, ToggleIsFetchingType, ToggleIsFollowingProgressType, TotalCountType, UnFollowType, usersReducer } from \"./usersReducer\";\r\nimport { authReducer, setAuthUserDataType } from \"./authReducer\";\r\nimport thunkMiddleware, { ThunkAction } from \"redux-thunk\";\r\nimport { FormAction, reducer as formReducer } from 'redux-form';\r\nimport { appReducer, InitializedSuccessType } from \"./appReducer\";\r\n\r\nexport type ThunkType = ThunkAction<void, ReduxStateType, unknown, ActionTypes>\r\nexport type ActionTypes =\r\n    AddPostActionType\r\n    | SendMessageType\r\n    | FollowType\r\n    | UnFollowType\r\n    | SetUsersType\r\n    | CurrentPageType\r\n    | TotalCountType\r\n    | ToggleIsFetchingType\r\n    | SetUserProfileType\r\n    | setAuthUserDataType\r\n    | ToggleIsFollowingProgressType\r\n    | SetStatusType\r\n    | InitializedSuccessType\r\n//| FormAction\r\n\r\n\r\nexport type DispatchType = (action: ActionTypes) => void;\r\n//Обьединяем наши редьюсеры\r\nlet rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebarPage: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nexport type RootReducerType = typeof rootReducer;\r\nexport type ReduxStateType = ReturnType<RootReducerType>;//AppStateType\r\n\r\nexport type ReduxStoreType = {\r\n    getState: () => ReduxStateType\r\n    subscribe: (observer: () => void) => void\r\n    dispatch: DispatchType\r\n};\r\n//отдаем редьюсеры стору\r\nexport let store: Store = createStore(rootReducer, applyMiddleware(thunkMiddleware));\r\n\r\n//@ts-ignore\r\nwindow.store = store;","import React from 'react';\r\nimport { BrowserRouter, Route, withRouter } from 'react-router-dom';\r\nimport './App.css';\r\nimport { Navbar } from './components/Navbar/Navbar';\r\nimport { Music } from './components/Music/Music';\r\nimport { News } from './components/News/News';\r\nimport { Setting } from './components/Setting/Setting';\r\nimport DialogsContainer from './components/Dialogs/DialogsContainer';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport ProfileContainer from './components/Profile/ProfileContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Login from './components/Login/Login';\r\nimport { connect, Provider } from 'react-redux';\r\nimport { initializeApp } from './redux/appReducer'\r\nimport { compose } from 'redux';\r\nimport { store, ReduxStateType } from './redux/redux-store';\r\nimport { Preloader } from './components/common/Preloader/Preloader';\r\n\r\ntype AppPropsType = {\r\n  initialized: boolean\r\n  initializeApp: () => void\r\n}\r\n\r\nclass App extends React.Component<AppPropsType> {\r\n\r\n  componentDidMount() {\r\n    this.props.initializeApp();\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Preloader />\r\n    }\r\n\r\n    return (\r\n      <BrowserRouter>\r\n        <div className='app-wrapper'>\r\n          <HeaderContainer />\r\n          <Navbar />\r\n          <div className=\"app-wrapper-content\">\r\n            <Route render={() => <DialogsContainer\r\n            />} path=\"/dialogs\" />\r\n            <Route render={() => <ProfileContainer\r\n            />} path=\"/profile/:userId?\" />\r\n            <Route render={() => <News />} path=\"/news\" />\r\n            <Route render={() => <Music />} path=\"/music\" />\r\n            <Route render={() => <UsersContainer\r\n            />} path=\"/users\" />\r\n            <Route render={() => <Setting />} path=\"/setting\" />\r\n            <Route render={() => <Login />} path=\"/login\" />\r\n          </div>\r\n        </div>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state: ReduxStateType) => ({\r\n  initialized: state.app.initialized\r\n})\r\n\r\nlet AppContainer = compose<React.ComponentType>(\r\n  withRouter,\r\n  connect(mapStateToProps, { initializeApp }))(App)\r\n\r\nconst SamuraiJSApp: React.FC = () => {\r\n  return <BrowserRouter>\r\n    <Provider store={store}>\r\n      <AppContainer />\r\n    </Provider>\r\n  </BrowserRouter>\r\n}\r\nexport default SamuraiJSApp;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport './index.css';\r\nimport SamuraiJSApp from \"./App\";\r\n\r\n\r\nReactDOM.render(\r\n  <SamuraiJSApp />,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userLogo\":\"Users_userLogo__2xoEd\",\"container\":\"Users_container__DzIyY\",\"userInfo\":\"Users_userInfo__3UEP0\",\"selected\":\"Users_selected__3SPF4\",\"paginat\":\"Users_paginat__1Q3ce\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControl_formControl__11adk\",\"error\":\"FormControl_error__3JVcm\",\"formSummaryError\":\"FormControl_formSummaryError__mDqvC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2IiT1\",\"title\":\"Header_title__1PnPN\",\"loginBlock\":\"Header_loginBlock__1cch8\"};"],"sourceRoot":""}