/*! For license information please see main.fc201683.chunk.js.LICENSE.txt */
(this["webpackJsonp01-project"]=this["webpackJsonp01-project"]||[]).push([[0],{130:function(e,t,n){e.exports={preloader:"Preloader_preloader__3xMqD"}},132:function(e,t,n){e.exports={block:"MyPosts_block__1KfWR",area:"MyPosts_area__3QX9_"}},133:function(e,t,n){e.exports={item:"Post_item__1drbq"}},134:function(e,t,n){e.exports={content:"ProfileInfo_content__1ydn2"}},15:function(e,t,n){e.exports={nav:"Navbar_nav__2h0ef",item:"Navbar_item__22eW8",active:"Navbar_active__A2NPC"}},165:function(e,t,n){},23:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__1aqog",dialogsItems:"Dialogs_dialogsItems__2974J",dialog:"Dialogs_dialog__SZ_g3",messageItems:"Dialogs_messageItems__1TdIq",message:"Dialogs_message__kZH15"}},292:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s),a=n(62),c=n.n(a),i=(n(92),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,293)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),s(e),r(e),a(e),c(e)}))}),o=n(26),u=n(27),l=n(30),d=n(29),j=n(12),b=n(10),f=(n(165),n(15)),p=n.n(f),O=n(0);function h(){return Object(O.jsxs)("nav",{className:p.a.nav,children:[Object(O.jsx)("div",{className:p.a.item,children:Object(O.jsx)(j.b,{to:"/profile",activeClassName:p.a.active,children:" Profile"})}),Object(O.jsx)("div",{className:p.a.item,children:Object(O.jsx)(j.b,{to:"/dialogs",activeClassName:p.a.active,children:"Messages"})}),Object(O.jsx)("div",{className:p.a.item,children:Object(O.jsx)(j.b,{to:"/news",activeClassName:p.a.active,children:"News"})}),Object(O.jsx)("div",{className:p.a.item,children:Object(O.jsx)(j.b,{to:"/music",activeClassName:p.a.active,children:"Music"})}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:p.a.item,children:Object(O.jsx)(j.b,{to:"/users",activeClassName:p.a.active,children:"Users"})}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:p.a.item,children:Object(O.jsx)(j.b,{to:"/setting",activeClassName:p.a.active,children:"Setting"})})]})}function g(e){return Object(O.jsx)("div",{children:"Music"})}function m(e){return Object(O.jsx)("div",{children:"News"})}function A(e){return Object(O.jsx)("div",{children:"Setting"})}var v=n(41),x=n(4),S={dialogsData:[{id:"1",name:"Anna"},{id:"2",name:"Dimych"},{id:"3",name:"Kelvin"},{id:"4",name:"Eliza"},{id:"5",name:"Matt"},{id:"6",name:"Connor"}],messagesData:[{id:"1",message:"hi"},{id:"2",message:"How are you?"},{id:"3",message:"It's cool!!"},{id:"4",message:"Nice!"},{id:"5",message:" "},{id:"6",message:"Im sexy"}]},y=n(122),P=n(123),C=function(e){if(!e)return"Field is required"},k=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}},w=n(53),D=n(50),E=n.n(D),N=function(e){var t=e.meta,n=e.children,s=t.touched&&t.error;return Object(O.jsxs)("div",{className:E.a.formControl+" "+(s?E.a.error:""),children:[Object(O.jsx)("div",{children:n}),s&&Object(O.jsx)("span",{children:t.error})]})},T=function(e){var t=e.input,n=(e.meta,Object(w.a)(e,["input","meta"]));return Object(O.jsxs)(N,Object(x.a)(Object(x.a)({},e),{},{children:[" ",Object(O.jsx)("textarea",Object(x.a)(Object(x.a)({},t),n))]}))},L=function(e){var t=e.input,n=(e.meta,Object(w.a)(e,["input","meta"]));return Object(O.jsxs)(N,Object(x.a)(Object(x.a)({},e),{},{children:[" ",Object(O.jsx)("input",Object(x.a)(Object(x.a)({},t),n))]}))},I=n(23),U=n.n(I);function G(e){return Object(O.jsx)("div",{className:"".concat(U.a.dialog," ").concat(U.a.active),children:Object(O.jsx)(j.b,{to:"/dialogs/".concat(e.id),children:e.name})})}function F(e){return Object(O.jsx)("div",{className:U.a.message,children:e.mes})}var M=k(100),Q=Object(P.a)({form:"dialogAddMessageForm"})((function(e){return Object(O.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(O.jsx)("div",{children:Object(O.jsx)(y.a,{component:T,name:"newMessageBody",placeholder:"Enter your message",validate:[C,M]})}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{children:"Send"})})]})})),W=n(11),_=function(e){return{isAuth:e.auth.isAuth}};var q,R,B=n(8),X=Object(B.d)(Object(W.b)((function(e){return{dialogsData:e.dialogsPage.dialogsData,messagesData:e.dialogsPage.messagesData}}),(function(e){return{sendMessageCreator:function(t){e(function(e){return{type:"SEND-MESSAGE",newMessageBody:e}}(t))}}})),(function(e){return Object(W.b)(_)((function(t){var n=t.isAuth,s=Object(w.a)(t,["isAuth"]);return n?Object(O.jsx)(e,Object(x.a)({},s)):Object(O.jsx)(b.a,{to:"/login"})}))}))((function(e){var t=e.dialogsData.map((function(e){return Object(O.jsx)(G,{name:e.name,id:e.id},e.id)})),n=e.messagesData.map((function(e){return Object(O.jsx)(F,{mes:e.message},e.id)}));return Object(O.jsxs)("div",{className:U.a.dialogs,children:[Object(O.jsx)("div",{className:U.a.dialogsItems,children:t}),Object(O.jsxs)("div",{className:U.a.messageItems,children:[Object(O.jsx)("div",{children:n}),Object(O.jsx)(Q,{onSubmit:function(t){e.sendMessageCreator(t.newMessageBody)}})]})]})})),H=n(36),z=n.n(H),K=n(67),J=n(129),V=n.n(J).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"a75ca69e-11c9-4fb1-b265-ac7ff31550a1"}}),Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return V.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},Y=function(e){return V.post("follow/".concat(e),{})},$=function(e){return V.delete("follow/".concat(e))},ee=function(e){return V.get("profile/"+e)},te=function(e){return V.get("profile/status/"+e)},ne=function(e){return V.put("profile/status",{status:e})};!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(q||(q={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(R||(R={}));var se=function(){return V.get("auth/me").then((function(e){return e.data}))},re=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return V.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},ae=function(){return V.delete("auth/login").then((function(e){return e.data}))},ce={users:[],pageSize:25,totalUsersCount:5,currentPage:1,isFetching:!1,followingInProgress:[]},ie=function(e){return{type:"FOLLOW",userId:e}},oe=function(e){return{type:"UNFOLLOW",userId:e}},ue=function(e){return{type:"TOGGLE-IS-FETCHING",isFetching:e}},le=function(e,t){return{type:"TOGGLE-IS-FOLLOWING-PROGRESS",isFetching:e,userId:t}},de=n(42),je=n.n(de);function be(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),n=[],s=1;s<=t;s++)n.push(s);return Object(O.jsxs)("div",{className:je.a.container,children:[Object(O.jsx)("div",{children:n.map((function(t){return Object(O.jsx)("span",{className:e.currentPage===t?je.a.selected:je.a.paginat,onClick:function(){return e.onPageChanged(t)},children:t})}))}),e.users.map((function(t){return Object(O.jsxs)("div",{className:je.a.userInfo,children:[Object(O.jsxs)("span",{children:[Object(O.jsx)("div",{children:Object(O.jsx)(j.b,{to:"/profile/".concat(t.id),children:Object(O.jsx)("img",{src:null!=t.photos.small?t.photos.small:"data:image/png;base64,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",alt:"avatar",className:je.a.userLogo})})}),Object(O.jsx)("div",{children:t.followed?Object(O.jsx)("button",{disabled:e.followingProgress.some((function(e){return e===t.id})),onClick:function(){e.unFollowThunkCreator(t.id)},children:"UNFOLLOW"}):Object(O.jsx)("button",{disabled:e.followingProgress.some((function(e){return e===t.id})),onClick:function(){e.followThunkCreator(t.id)},children:"FOLLOW"})})]}),Object(O.jsxs)("span",{children:[Object(O.jsxs)("span",{children:[Object(O.jsx)("div",{children:t.name}),Object(O.jsx)("div",{children:t.status})]}),Object(O.jsxs)("span",{children:[Object(O.jsx)("div",{children:"u.location.city"}),Object(O.jsx)("div",{children:"u.location.country"})]})]})]},t.id)}))]})}var fe=n(130),pe=n.n(fe),Oe=n.p+"static/media/preloader.448c49bf.svg";function he(){return Object(O.jsx)("div",{className:pe.a.preloader,children:Object(O.jsx)("img",{src:Oe})})}var ge=n(131),me=function(e){return e.usersPage.users},Ae=function(e){return e.usersPage.pageSize},ve=function(e){return e.usersPage.totalUsersCount},xe=function(e){return e.usersPage.currentPage},Se=function(e){return e.usersPage.isFetching},ye=function(e){return e.usersPage.followingInProgress},Pe=(Object(ge.a)(me,ve,(function(e){return e.filter((function(e){return!0}))})),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.getUsersThunkCreator(t,e.props.pageSize)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsersThunkCreator(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(O.jsxs)(O.Fragment,{children:[this.props.isFetching?Object(O.jsx)(he,{}):null,Object(O.jsx)(be,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,followingProgress:this.props.followingProgress,followThunkCreator:this.props.followThunkCreator,unFollowThunkCreator:this.props.unFollowThunkCreator})]})}}]),n}(r.a.Component)),Ce=Object(B.d)(Object(W.b)((function(e){return{users:me(e),pageSize:Ae(e),totalUsersCount:ve(e),currentPage:xe(e),isFetching:Se(e),followingProgress:ye(e)}}),{getUsersThunkCreator:function(e,t){return function(){var n=Object(K.a)(z.a.mark((function n(s){return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s(ue(!0)),s({type:"SET-CURRENT-PAGE",currentPage:e}),Z(e,t).then((function(e){s(ue(!1)),s({type:"SET-USERS",users:e.items}),s({type:"SET-TOTAL-COUNT",totalUsersCount:e.totalCount})}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},followThunkCreator:function(e){return function(){var t=Object(K.a)(z.a.mark((function t(n){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(le(!0,e)),Y(e).then((function(t){t.data.resultCode===q.Success&&n(ie(e)),n(le(!1,e))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unFollowThunkCreator:function(e){return function(){var t=Object(K.a)(z.a.mark((function t(n){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(le(!0,e)),$(e).then((function(t){t.data.resultCode===q.Success&&n(oe(e)),n(le(!1,e))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(Pe),ke={postData:[{id:"1",message:"My first post",src:"https://www.b17.ru/foto/uploaded/b69a564c47110acefb8c986f768210ac.jpg",likeCount:"23"},{id:"2",message:"Hey friends!!!",src:"https://klike.net/uploads/posts/2019-03/1551511784_4.jpg",likeCount:"12"},{id:"4",message:"very very good job",src:"https://pictureholiday.ru/wp-content/uploads/2018/05/lrdh7n2l4l0.jpg",likeCount:"32"},{id:"5",message:"My second post",src:"https://www.meme-arsenal.com/memes/be50e6ba99654b5455027dcc82beb5b3.jpg",likeCount:"4"}],profileData:null,status:""},we=function(e){return{type:"SET-STATUS",status:e}},De=n(132),Ee=n.n(De),Ne=n(133),Te=n.n(Ne);function Le(e){return Object(O.jsxs)("div",{className:Te.a.item,children:[Object(O.jsx)("img",{src:e.src,alt:""}),e.message,Object(O.jsxs)("button",{children:["Like(",e.likeCount,")"]}),Object(O.jsx)("button",{children:"DisLike"})]})}var Ie=k(10),Ue=Object(P.a)({form:"addNewPost"})((function(e){return Object(O.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(O.jsx)("div",{children:Object(O.jsx)(y.a,{component:T,name:"newPost",placeholder:"Enter your post",validate:[C,Ie]})}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{children:"Add Post"})})]})})),Ge=Object(W.b)((function(e){return{posts:e.profilePage.postData}}),(function(e){return{addPost:function(t){e(function(e){return{type:"ADD-POST",postMessage:e}}(t))}}}))((function(e){var t=e.posts.map((function(e){return Object(O.jsx)(Le,{message:e.message,src:e.src,likeCount:e.likeCount},e.id)}));return Object(O.jsxs)("div",{className:Ee.a.block,children:[Object(O.jsx)("h3",{children:"My posts"}),Object(O.jsx)(Ue,{onSubmit:function(t){e.addPost(t.newPost)}}),t]})})),Fe=n(134),Me=n.n(Fe),Qe=n(91),We=function(e){var t=Object(s.useState)(!1),n=Object(Qe.a)(t,2),r=n[0],a=n[1],c=Object(s.useState)(e.status),i=Object(Qe.a)(c,2),o=i[0],u=i[1];Object(s.useEffect)((function(){u(e.status)}),[e.status]);return Object(O.jsxs)("div",{children:[!r&&Object(O.jsx)("div",{children:Object(O.jsx)("span",{onDoubleClick:function(){a(!0)},children:e.status||"-------"})}),r&&Object(O.jsx)("div",{children:Object(O.jsx)("input",{autoFocus:!0,onBlur:function(){a(!1),e.updateStatus(o)},onChange:function(e){u(e.currentTarget.value)},value:o})})]})};function _e(e){return e.profile?Object(O.jsxs)("div",{className:Me.a.content,children:[Object(O.jsx)("img",{src:"https://demo.qodeinteractive.com/central/wp-content/uploads/2013/05/header.jpg",alt:"Background"}),Object(O.jsx)(We,{status:e.status,updateStatus:e.updateStatus}),Object(O.jsx)("div",{children:"AVA "}),Object(O.jsx)("img",{src:e.profile.photos.large?e.profile.photos.large:"https://okeygeek.ru/wp-content/uploads/2020/03/no_avatar.png",alt:"ava",style:{width:"300px",marginLeft:"20px"}})]}):Object(O.jsx)(he,{})}function qe(e){return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)(_e,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(O.jsx)(Ge,{})]})}var Re=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=+this.props.match.params.userId;e||(e=this.props.authUserId)||this.props.history.push("/login"),this.props.getUserProfileThunkCreator(e),this.props.getUserStatus(e)}},{key:"render",value:function(){return Object(O.jsx)(qe,Object(x.a)(Object(x.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateUserStatus}))}}]),n}(r.a.Component),Be=Object(B.d)(Object(W.b)((function(e){return{profile:e.profilePage.profileData,status:e.profilePage.status,authUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfileThunkCreator:function(e){return function(t){ee(e).then((function(e){t({type:"SET-USER-PROFILE",profile:e.data})}))}},getUserStatus:function(e){return function(t){te(e).then((function(e){t(we(e.data))}))}},updateUserStatus:function(e){return function(t){ne(e).then((function(n){console.log(n),n.data.resultCode===q.Success&&t(we(e))})).catch((function(e){return console.log("ERROR")}))}}}),b.f)(Re),Xe=n(68),He=n.n(Xe);function ze(e){return Object(O.jsxs)("header",{className:He.a.header,children:[Object(O.jsx)("img",{src:"https://i.ibb.co/yV486Q1/logo.png",alt:"Logo"}),Object(O.jsx)("span",{className:He.a.title,children:"Free Land"}),Object(O.jsx)("div",{className:He.a.loginBlock,children:e.isAuth?Object(O.jsxs)("div",{children:[e.email," - ",Object(O.jsx)("button",{onClick:e.logout,children:"LogOut"})]}):Object(O.jsx)(j.b,{to:"/login",children:"Login"})})]})}var Ke=n(34),Je={id:null,login:null,email:null,isAuth:!1},Ve=function(e,t,n,s){return{type:"SET-USER-DATA",payload:{id:e,login:t,email:n,isAuth:s}}},Ze=function(){return function(e){return se().then((function(t){if(t.resultCode===q.Success){var n=t.data,s=n.id,r=n.login,a=n.email;e(Ve(s,r,a,!0))}}))}},Ye=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(O.jsx)(ze,Object(x.a)({},this.props))}}]),n}(r.a.Component),$e=Object(W.b)((function(e){return{isAuth:e.auth.isAuth,email:e.auth.email}}),{logout:function(){return function(e){ae().then((function(t){t.resultCode===q.Success&&e(Ve(null,null,null,!1))}))}}})(Ye),et=Object(P.a)({form:"login"})((function(e){return Object(O.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(O.jsx)("div",{children:Object(O.jsx)(y.a,{component:L,placeholder:"Email",type:"text",name:"email",validate:[C]})}),Object(O.jsx)("div",{children:Object(O.jsx)(y.a,{component:L,placeholder:"password",type:"password",name:"password",validate:[C]})}),Object(O.jsxs)("div",{children:[Object(O.jsx)(y.a,{component:L,type:"checkbox",name:"rememberMe"})," remember me"]}),e.error&&Object(O.jsx)("div",{className:E.a.formSummaryError,children:e.error}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{children:"Log In"})})]})})),tt=Object(W.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(s){re(e,t,n).then((function(e){if(e.resultCode===q.Success)s(Ze());else{var t=e.messages.length>0?e.messages[0]:"Entered data is wrong.";s(Object(Ke.a)("login",{_error:t}))}}))}}})((function(e){return e.isAuth?Object(O.jsx)(b.a,{to:"/profile"}):Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Login"}),Object(O.jsx)(et,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})]})})),nt={initialized:!1},st={},rt=n(135),at=n(124),ct=Object(B.c)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var n={id:"5",message:t.postMessage,src:"https://lh3.googleusercontent.com/proxy/3rJu_amx5VvIAQOWhgcizmF3sYMiZ1CeLWGXAmDmlITG_ZUxNXKHCBkBQWo0rTkebuBkxOs5bgKaU4m_SWFiaDRobK1AzfC4LHulca3hMn3YvJxPGKEeNEEzmpsPn2eY3Nw65qUUIn4E1TYLp4o8ABQsDB13jFsjyYB_S_K937soqhA_7_UUmvwOUYkJe8MiFNt4BPHHHMQ9PKnCrM8lInd98DtLPWGpnYCGDZLkAvogYT9xFeS72g22w50XtttvfpsvdsxG",likeCount:"0"};return Object(x.a)(Object(x.a)({},e),{},{postData:[].concat(Object(v.a)(e.postData),[n])});case"SET-USER-PROFILE":return Object(x.a)(Object(x.a)({},e),{},{profileData:t.profile});case"SET-STATUS":return Object(x.a)(Object(x.a)({},e),{},{status:t.status});default:return e}},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var n=t.newMessageBody;return Object(x.a)(Object(x.a)({},e),{},{messagesData:[].concat(Object(v.a)(e.messagesData),[{id:"7",message:n}])});default:return e}},sidebarPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st;return e},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(x.a)(Object(x.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(x.a)(Object(x.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(x.a)(Object(x.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(x.a)(Object(x.a)({},e),{},{followed:!1}):e}))});case"SET-USERS":return Object(x.a)(Object(x.a)({},e),{},{users:t.users});case"SET-CURRENT-PAGE":return Object(x.a)(Object(x.a)({},e),{},{currentPage:t.currentPage});case"SET-TOTAL-COUNT":return Object(x.a)(Object(x.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"TOGGLE-IS-FETCHING":return Object(x.a)(Object(x.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE-IS-FOLLOWING-PROGRESS":return Object(x.a)(Object(x.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(v.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-USER-DATA":return Object(x.a)(Object(x.a)({},e),t.payload);default:return e}},form:at.a,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-INITIALIZED":return Object(x.a)(Object(x.a)({},e),{},{initialized:!0});default:return e}}}),it=Object(B.e)(ct,Object(B.a)(rt.a));window.store=it;var ot=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(O.jsx)(j.a,{children:Object(O.jsxs)("div",{className:"app-wrapper",children:[Object(O.jsx)($e,{}),Object(O.jsx)(h,{}),Object(O.jsxs)("div",{className:"app-wrapper-content",children:[Object(O.jsx)(b.b,{render:function(){return Object(O.jsx)(X,{})},path:"/dialogs"}),Object(O.jsx)(b.b,{render:function(){return Object(O.jsx)(Be,{})},path:"/profile/:userId?"}),Object(O.jsx)(b.b,{render:function(){return Object(O.jsx)(m,{})},path:"/news"}),Object(O.jsx)(b.b,{render:function(){return Object(O.jsx)(g,{})},path:"/music"}),Object(O.jsx)(b.b,{render:function(){return Object(O.jsx)(Ce,{})},path:"/users"}),Object(O.jsx)(b.b,{render:function(){return Object(O.jsx)(A,{})},path:"/setting"}),Object(O.jsx)(b.b,{render:function(){return Object(O.jsx)(tt,{})},path:"/login"})]})]})}):Object(O.jsx)(he,{})}}]),n}(r.a.Component),ut=Object(B.d)(b.f,Object(W.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(Ze());Promise.all([t]).then((function(){e({type:"SET-INITIALIZED"})}))}}}))(ot),lt=function(){return Object(O.jsx)(j.a,{children:Object(O.jsx)(W.a,{store:it,children:Object(O.jsx)(ut,{})})})};c.a.render(Object(O.jsx)(lt,{}),document.getElementById("root")),i()},42:function(e,t,n){e.exports={userLogo:"Users_userLogo__2xoEd",container:"Users_container__DzIyY",userInfo:"Users_userInfo__3UEP0",selected:"Users_selected__3SPF4",paginat:"Users_paginat__1Q3ce"}},50:function(e,t,n){e.exports={formControl:"FormControl_formControl__11adk",error:"FormControl_error__3JVcm",formSummaryError:"FormControl_formSummaryError__mDqvC"}},68:function(e,t,n){e.exports={header:"Header_header__2IiT1",title:"Header_title__1PnPN",loginBlock:"Header_loginBlock__1cch8"}},92:function(e,t,n){}},[[292,1,2]]]);
//# sourceMappingURL=main.fc201683.chunk.js.map